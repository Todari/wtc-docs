# TDD, 어떻게 시작해볼까?

자동차 경주 게임을 TDD로 같이 구현하며 조금 더 알아봅니다.

## 이게 다 뭐죠?

- 이도저도 모르겠다면 TDD, 테스트, 클린 코드 등 모두 신경쓰지 않고 일단 아무렇게나 구현해본다.
- 구현하면서 도메인 지식을 쌓는다.
    - 어떤 기능이 필요하고, 어떤 예외 케이스를 고려해야 하는지 등
- 구현한 코드를 모두 버린다.
- 구현할 기능 목록 작성 또는 간단한 도메인 설계
- 기능 목록 중 핵심에 가까우면서도, 해볼 만 하게 작은 녀석부터 찾아 TDD로 구현 시작
- 어려워지면 버리고 다시 시도

## TDD 연습 전, 일단 구현해보면서 도메인 지식 쌓기

우선 기본적인 기능 구현, 테스트 작성, 어떤 부분이 테스트 작성을 어렵게 만드는 지까지를 경험해본다.

### 익숙한 방식으로 구현 및 테스트

- 그냥 되는대로 일단 동작하게 구현
- 테스트할 수 있는 영역들을 찾아 테스트 작성

### 테스트 하기 어려운 영역을 테스트 가능하게 개선하기

- 자동차의 전진 조건을 구하는 랜덤값을 구하는 로직은 테스트를 어렵게 만든다.
- 테스트를 어렵게 만드는 부분을 어떻게 분리해낼 수 있는지에 대한 지식을 습득한다.

#### 대표적으로 테스트를 어렵게 만드는 원인

- Random
- Date
- 외부 API

## 코드를 버리고 다시 시작한다

- 경험해본 것을 토대로, 모든 코드를 버리고 TDD 방식으로 구현을 시도해본다.

## 코드부터 바로 쓰지 말자

### 1 기능 요구 사항 분석 먼저 하기 (문제 정의 먼저!)

- 과제 진행 요구사항: 구현 전에 기능 요구 사항을 먼저 정의할 것

### 2 각 요구 사항을 어떤 영역에서 해결해야 할 지 설계도 초안 그려보기

- 도메인 영역에서 필요한 기능, UI에서 필요한 기능 나눠보기
- 어떤 모듈/객체/함수들이 어떤 역할을 해야할 지 정의해보기

### 3 (정의한 문제들에 대한 테스트를 작성) -> 구현 -> 리팩터링

- 도메인 영역에 대한 테스트를 작성하고 구현하는 것을 1차 목표로 삼기
- 테스트하기 가장 쉬워 보이는 영역부터 시작해보기

![](https://techcourse-storage.s3.ap-northeast-2.amazonaws.com/99fa83a4dfb34f25b3b4bb3cfb62a148)

## 그렇다고 '완벽한' 설계도부터 그리고 시작하려 하진 말자

- 테스트하고 구현하면서 개선해나가기
- 재구현해보면서 설계 다시 생각해보기
- 시행착오 충분히 겪으며 학습하고, 다음 미션에서 다시 도전해보기

## 🤔 생각해보기

- 피드백 시간에 다룬 메서드 시그니처를 수정하는 방식 외에 어떤 방식으로 또 테스트 하기 어려운 영역을 분리할 수 있을까?